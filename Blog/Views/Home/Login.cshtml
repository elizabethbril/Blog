
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container col-lg-push-4">
    <h2>Login</h2>
    <div class="form-group">
        <label for="login">Login of user</label>
        <input type="text" class="form-control" id="login" placeholder="Login" name="login">
        <label for="password">Password of user</label>
        <input type="text" class="form-control" id="password" placeholder="Password" name="password">
    </div>
    <button type="submit" class="btn btn-default" onclick="Login()">Submit</button>
</div>
@section scripts{
    <script type="text/javascript">

        function Login() {
            var User = {
                Login: $('#login').val(),
                Password: $('#password').val()
            }
            if (User.Login.length < 3)
                alert('Login must have at least 3 symbols')
            else if (User.Password.length < 3)
                alert('Password must have at least 3 symbols')
            else
                $.ajax({
                    url: '/api/login/',
                    type: 'POST',
                    dataType: 'JSON',
                    data: JSON.stringify(User),
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {
                        alert("Success")
                    },
                    error: function (error) {
                        alert(error.responseText);
                    }
                });
        }
    </script>
}

